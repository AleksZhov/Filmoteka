{"mappings":"gfAAAA,EAAA,S,WCAA,IAOAC,EAPuB,WACrB,MAAO,CACLC,iBAAkBC,SAASC,cAAc,oBACzCC,cAAeF,SAASC,cAAc,mBACtCE,YAAaH,SAASC,cAAc,iB,ECJjC,SAASG,EAAoBC,G,IAClCC,EADkCD,EAClCC,GACAC,EAFkCF,EAElCE,OACAC,EAHkCH,EAGlCG,MACAC,EAJkCJ,EAIlCI,aACAC,EALkCL,EAKlCK,aACAC,EANkCN,EAMlCM,YAEIC,EAAeL,EAAOM,KAAI,SAAAC,GAC5B,OADmCA,EAAJC,I,IAQjC,OAJEH,EADEA,EAAaI,OAAS,EACTJ,EAAaK,MAAM,EAAG,GAAGC,KAAK,MAAS,UAEvCN,EAAaM,KAAK,MAE5B,6CAEiEC,OADhCb,EAAG,+EAEVa,OADuCR,EAAY,+DAG/CQ,OAFJX,EAAM,mFAIFW,OAFAP,EAAa,uDAGXO,OADFT,EAAaO,MAAM,GAAG,GAAI,iDACXE,OAAbV,EAAa,gC,CCpBtD,IAAMW,EAAW,IAAI,E,WAAAC,UAGfC,EAA4B,UAElCC,aAAaC,QAAQF,GACrB,IAAMG,EAAsBC,KAAKC,MAC/BJ,aAAaC,QAAQF,IAGvBxB,IAAiBI,cAAc0B,iBAAiB,SAEhD,WACE9B,IAAiBC,iBAAiB8B,UAAY,GAC9CJ,EAAoBK,SAAQ,SAAAC,GAC1BX,EACGY,SAASD,GACTE,MAAK,SAAAC,GACJ,IAAMC,EAAS/B,EAAoB8B,GAEnCpC,IAAiBC,iBAAiBqC,mBAChC,YACAD,E,IAGHE,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,cCzB5BG,EAAW,IAAI,E,WAAApB,UAGfqB,EAA4B,QAElCnB,aAAaC,QAAQkB,GACrB,IAAMC,EAAsBjB,KAAKC,MAC/BJ,aAAaC,QAAQkB,IAGvB5C,IAAiBK,YAAYyB,iBAAiB,SAE9C,WACE9B,IAAiBC,iBAAiB8B,UAAY,GAC9Cc,EAAoBb,SAAQ,SAAAC,GAC1BU,EACGT,SAASD,GACTE,MAAK,SAAAC,GACJ,IAAMC,EAAS/B,EAAoB8B,GAEnCpC,IAAiBC,iBAAiBqC,mBAChC,YACAD,E,IAGHE,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E","sources":["src/library-index.js","src/js/library-js/libraryGetRefs.js","src/js/library-js/libraryRenderMarkup.js","src/js/library-js/library.js","src/js/library-js/library-queue.js"],"sourcesContent":["import './js/team-modal.js';\nimport './js/preloader.js';\nimport './js/library-js/library.js';\nimport './js/library-js/library-queue.js';\n","const libraryGetRefs = () => {\n  return {\n    containerListRef: document.querySelector('.container__list'),\n    watchedBthRef: document.querySelector('.js-btn-watched'),\n    queueBtnRef: document.querySelector('.js-btn-queue'),\n  };\n};\nexport default libraryGetRefs;\n","export function libraryRenderMarkup({\n  id,\n  genres,\n  title,\n  vote_average,\n  release_date,\n  poster_path,\n}) {\n  let genresCreate = genres.map(({ name }) => {\n    return name;\n  });\n  if (genresCreate.length > 2) {\n    genresCreate = genresCreate.slice(0, 2).join(', ') + `, Other`;\n  } else {\n    genresCreate = genresCreate.join(', ');\n  }\n  return `\n    <li class=\"film-card__item\" data-id=${id}>\n      <img class=\"film-card__img\"  src=\"https://image.tmdb.org/t/p/w500/${poster_path} \" alt=\"film poster\"  />\n    <h2 class=\"film-card__title\">${title}</h2>\n    <div class=\"film-card__flex\">\n    <p class=\"film-card__flex__text\">${genresCreate} |\n    </p>\n    <p class=\"film-card__flex__text\">${release_date.slice(0, -6)}</p>\n    <p class=\"film-card__flex__rating\">${vote_average}</p>\n    </div>\n    </li>\n`;\n}\n","import libraryGetRefs from './libraryGetRefs.js';\nimport { MovieAPI } from '../movieAPI.js';\nimport { libraryRenderMarkup } from './libraryRenderMarkup.js';\n\nconst movieAPI = new MovieAPI();\n\nconst watchedMovies = [];\nconst LOCAL_STORAGE_WATCHED_KEY = 'WATCHED';\n\nlocalStorage.getItem(LOCAL_STORAGE_WATCHED_KEY);\nconst receivedDataWatched = JSON.parse(\n  localStorage.getItem(LOCAL_STORAGE_WATCHED_KEY)\n);\n\nlibraryGetRefs().watchedBthRef.addEventListener('click', onWatchBtnHandle);\n\nfunction onWatchBtnHandle() {\n  libraryGetRefs().containerListRef.innerHTML = '';\n  receivedDataWatched.forEach(element => {\n    movieAPI\n      .getFilms(element)\n      .then(result => {\n        const markup = libraryRenderMarkup(result);\n\n        libraryGetRefs().containerListRef.insertAdjacentHTML(\n          'beforeend',\n          markup\n        );\n      })\n      .catch(error => console.log(error));\n  });\n}\n","import libraryGetRefs from './libraryGetRefs.js';\nimport { MovieAPI } from '../movieAPI.js';\nimport { libraryRenderMarkup } from './libraryRenderMarkup.js';\n\nconst movieAPI = new MovieAPI();\n\nconst watchedMovies = [];\nconst LOCAL_STORAGE_WATCHED_KEY = 'QUEUE';\n\nlocalStorage.getItem(LOCAL_STORAGE_WATCHED_KEY);\nconst receivedDataWatched = JSON.parse(\n  localStorage.getItem(LOCAL_STORAGE_WATCHED_KEY)\n);\n\nlibraryGetRefs().queueBtnRef.addEventListener('click', onQueueBtnHandle);\n\nfunction onQueueBtnHandle() {\n  libraryGetRefs().containerListRef.innerHTML = '';\n  receivedDataWatched.forEach(element => {\n    movieAPI\n      .getFilms(element)\n      .then(result => {\n        const markup = libraryRenderMarkup(result);\n\n        libraryGetRefs().containerListRef.insertAdjacentHTML(\n          'beforeend',\n          markup\n        );\n      })\n      .catch(error => console.log(error));\n  });\n}\n"],"names":["parcelRequire","$cb3c9e5c485b0f3f$export$2e2bcd8739ae039","containerListRef","document","querySelector","watchedBthRef","queueBtnRef","$b20b15d15bba97a0$export$e66b2d78411a22fb","param1","id","genres","title","vote_average","release_date","poster_path","genresCreate","map","param","name","length","slice","join","concat","$bf23c4fb94b56fec$var$movieAPI","MovieAPI","$bf23c4fb94b56fec$var$LOCAL_STORAGE_WATCHED_KEY","localStorage","getItem","$bf23c4fb94b56fec$var$receivedDataWatched","JSON","parse","addEventListener","innerHTML","forEach","element","getFilms","then","result","markup","insertAdjacentHTML","catch","error","console","log","$a63883ed63f46b0f$var$movieAPI","$a63883ed63f46b0f$var$LOCAL_STORAGE_WATCHED_KEY","$a63883ed63f46b0f$var$receivedDataWatched"],"version":3,"file":"mylibrary.52ec74c0.js.map"}